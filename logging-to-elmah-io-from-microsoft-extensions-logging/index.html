<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="manifest" href="../site.webmanifest">
    <meta content="yes" name="mobile-web-app-capable">
    <meta name="apple-mobile-web-app-title" content="elmah.io">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-TileImage" content="../icons/mstile-144x144.png">
    <meta name="theme-color" content="#0da58e">
    <meta name="description" content="Learn about how to send structured logs from Microsoft.Extensions.Logging and ASP.NET Core to elmah.io. Add cloud logging with a NuGet package.">
    <meta name="author" content="Thomas Ardal">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@elmah_io">
    <meta name="twitter:creator" content="@elmah_io">
    <meta name="twitter:title" content="Logging to elmah.io from Microsoft.Extensions.Logging | elmah.io">
    <meta name="twitter:description" content="Learn about how to send structured logs from Microsoft.Extensions.Logging and ASP.NET Core to elmah.io. Add cloud logging with a NuGet package.">
    <meta name="twitter:image" content="https://docs.elmah.io/assets/img/open-graph-elmahio.png">
    <meta property="og:site_name" content="elmah.io Documentation" />
    <meta property="og:title" content="Logging to elmah.io from Microsoft.Extensions.Logging">
    <meta property="og:description" content="Learn about how to send structured logs from Microsoft.Extensions.Logging and ASP.NET Core to elmah.io. Add cloud logging with a NuGet package.">
    <meta property="og:type" content="article">
    <meta property="og:url" content="https://docs.elmah.io/logging-to-elmah-io-from-microsoft-extensions-logging/">
    <meta property="og:image" content="https://docs.elmah.io/assets/img/open-graph-elmahio.png">
    <meta property="article:published_time" content="2025-10-23">
    <meta property="article:modified_time" content="2025-10-23">
    <meta property="article:publisher" content="https://www.facebook.com/elmahdotio/" />
    <meta property="article:author" content="elmah.io" />
    <meta property="fb:app_id" content="218008838347208" />
    <title>Logging to elmah.io from Microsoft.Extensions.Logging</title>
    <link rel="canonical" href="https://docs.elmah.io/logging-to-elmah-io-from-microsoft-extensions-logging/">
    <link rel="shortcut icon" href="../favicon.ico">

    <link rel="preload" href="../assets/fonts/font-awesome/webfonts/fa-brands-400.woff2" as="font" crossorigin />
    <link rel="preload" href="../assets/fonts/font-awesome/webfonts/fa-regular-400.woff2" as="font" crossorigin />

    <!-- Bootstrap CSS -->
    
    <link rel="stylesheet" href="../assets/css/style.min.css?version=603">
    

    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Article",
      "publisher": {
        "@type": "Organization",
        "name": "elmah.io Documentation",
        "url": "https://docs.elmah.io/",
        "logo": {
          "@type": "ImageObject",
          "url": "https://docs.elmah.io/assets/img/elmahio-publication-logo.png",
          "width": 600,
          "height": 60
        }
      },
      "headline": "Logging from Microsoft.Extensions.Logging",
      "url": "https://docs.elmah.io/logging-to-elmah-io-from-microsoft-extensions-logging/",
      "datePublished": "2025-10-23",
      "dateModified": "2025-10-23",
      "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "https://docs.elmah.io/"
      }
    }
    </script>

  </head>
  <body>
    <script src="../assets/js/theme-selector.js"></script>

    <!-- Navigation -->
    <nav class="navbar navbar-expand-md navbar-dark bg-dark sticky-top">
  <div class="container">
    <a class="navbar-brand" href="https://elmah.io/">
      <img src="../assets/img/logo.png" width="30" height="22" alt="elmah.io">
    </a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarText" aria-controls="navbarText" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarText">
      <ul class="navbar-nav me-auto">
        <li class="nav-item"><a class="nav-link" href="https://elmah.io/features/">Features</a></li>
        <li class="nav-item"><a class="nav-link" href="https://elmah.io/pricing/">Pricing</a></li>
        <li class="nav-item"><a class="nav-link" href="https://elmah.io/tour/">Tour</a></li>
        <li class="nav-item"><a class="nav-link" href="https://elmah.io/about/">About</a></li>
        <li class="nav-item"><a class="nav-link" href="https://docs.elmah.io/">Docs</a></li>
        <li class="nav-item"><a class="nav-link" href="https://blog.elmah.io/">Blog</a></li>
      </ul>
      <ul class="navbar-nav navbar-nav-btn justify-content-center">
        <div class="mode-switch mb-2 mb-md-0 d-none">
          <button id="toggle-theme" class="btn btn-outline-light d-block d-md-none d-lg-block">
            <i class="fas fa-moon d-none" id="dark"></i>
            <i class="fas fa-sun d-none" id="light"></i>
          </button>
        </div>
        <li class="nav-item mx-md-2 mb-2 mb-md-0"><a class="btn btn-outline-light" href="https://app.elmah.io/login/">Login</a></li>
        <li class="nav-item"><a class="btn btn-signup-trial" href="https://app.elmah.io/signup/">Free Trial</a></li>
      </ul>
    </div>
  </div>
</nav>

    <div class="container mb-5">
      <div class="row-wrapper">
        <aside class="sidebar">
          <div class="sidebar-body">
            <div class="input-group mb-3">
              <div class="input-group-prepend"><span class="input-group-text"><label class="mb-0" for="search"><i class="far fa-search"></i></label></span></div>
              <input type="text" id="search" class="form-control" placeholder="Search ..." autocomplete="off" />
            </div>
            <div class="bugster-banner d-block d-md-none">
              <a role="button" data-bs-toggle="modal" data-bs-target="#bugsterModal">
                <div class="content">
                  <p class="mb-1 lead">Have a question ?</p>
                  <p class="mb-0">Ask anything and Bugster will be ready to answer and help you.</p>
                </div>
                <div class="bugster-logo">
                  <img class="img-fluid" src="../assets/img/bugster.png" width="383" height="374" alt="Bugster">
                </div>
              </a>
            </div>
            <div id="searchList" class="mt-3"></div>
            <hr>
            <ul class="main-nav">
              
              <li >
                <a class="li_parent" href="javascript:;">Getting Started</a>
                <ul>
                  
                  <li ><a href="/">Quick start</a></li>
                  
                  <li ><a href="/authentication/">Authentication</a></li>
                  
                  <li ><a href="/integrations-high-level-overview/">Integrations high level overview</a></li>
                  
                </ul>
              </li>
              
              <li class="li_dropdown">
                <a class="li_parent" href="javascript:;">ASP.NET</a>
                <ul>
                  
                  <li ><a href="/logging-to-elmah-io-from-elmah/">Logging from WebForms</a></li>
                  
                  <li ><a href="/logging-to-elmah-io-from-aspnet-mvc/">Logging from ASP.NET MVC</a></li>
                  
                  <li ><a href="/logging-to-elmah-io-from-web-api/">Logging from Web API</a></li>
                  
                  <li ><a href="/logging-to-elmah-io-from-web-pages/">Logging from Web Pages</a></li>
                  
                  <li ><a href="/logging-to-elmah-io-from-a-running-website-on-iis/">Logging from a running website on IIS</a></li>
                  
                  <li ><a href="/logging-to-elmah-io-from-a-running-website-on-azure/">Logging from a running website on Azure</a></li>
                  
                  <li ><a href="/logging-custom-data/">Logging custom data</a></li>
                  
                  <li ><a href="/logging-errors-programmatically/">Logging errors programmatically</a></li>
                  
                  <li ><a href="/logging-to-multiple-elmah-logs/">Logging to multiple logs</a></li>
                  
                  <li ><a href="/remove-sensitive-form-data/">Remove sensitive form data</a></li>
                  
                  <li ><a href="/setting-application-name/">Setting application name</a></li>
                  
                  <li ><a href="/configure-elmah-io-manually/">Configure elmah.io manually</a></li>
                  
                  <li ><a href="/configure-elmah-io-from-code/">Configure elmah.io from code</a></li>
                  
                  <li ><a href="/logging-through-a-http-proxy/">Logging through a HTTP proxy</a></li>
                  
                  <li ><a href="/use-multiple-logs-for-different-environments/">Use multiple logs for different environments</a></li>
                  
                  <li ><a href="/specify-api-key-and-log-id-through-appsettings/">Specify API key and log ID through appSettings</a></li>
                  
                  <li ><a href="/elmah-and-custom-errors/">ELMAH and custom errors</a></li>
                  
                  <li ><a href="/logging-from-a-custom-http-module/">Logging from a custom HTTP module</a></li>
                  
                  <li ><a href="/asp-net-troubleshooting/">ASP.NET troubleshooting</a></li>
                  
                </ul>
              </li>
              
              <li class="li_dropdown">
                <a class="li_parent" href="javascript:;">ASP.NET Core</a>
                <ul>
                  
                  <li ><a href="/logging-to-elmah-io-from-aspnet-core/">Logging from ASP.NET Core</a></li>
                  
                  <li class="active"><a href="/logging-to-elmah-io-from-microsoft-extensions-logging/">Logging from Microsoft.Extensions.Logging</a></li>
                  
                  <li ><a href="/logging-to-elmah-io-from-blazor/">Logging from Blazor</a></li>
                  
                  <li ><a href="/logging-to-elmah-io-from-signalr/">Logging from SignalR</a></li>
                  
                  <li ><a href="/using-different-logs-per-environment-in-aspnet-core/">Using different logs per environment in ASP.NET Core</a></li>
                  
                  <li ><a href="/logging-breadcrumbs-from-asp-net-core/">Logging breadcrumbs from ASP.NET Core</a></li>
                  
                  <li ><a href="/roslyn-analyzers-for-elmah-io-and-aspnet-core/">Roslyn analyzers for elmah.io and ASP.NET Core</a></li>
                  
                  <li ><a href="/asp-net-core-troubleshooting/">ASP.NET Core troubleshooting</a></li>
                  
                </ul>
              </li>
              
              <li class="li_dropdown active">
                <a class="li_parent" href="javascript:;">Logging Frameworks</a>
                <ul>
                  
                  <li ><a href="/logging-to-elmah-io-from-serilog/">Logging from Serilog</a></li>
                  
                  <li ><a href="/logging-to-elmah-io-from-log4net/">Logging from log4net</a></li>
                  
                  <li ><a href="/logging-to-elmah-io-from-nlog/">Logging from NLog</a></li>
                  
                  <li class="active"><a href="/logging-to-elmah-io-from-microsoft-extensions-logging/">Logging from Microsoft.Extensions.Logging</a></li>
                  
                  <li ><a href="/logging-to-elmah-io-from-logary/">Logging from Logary</a></li>
                  
                  <li ><a href="/logging-to-elmah-io-from-jsnlog/">Logging from JSNLog</a></li>
                  
                </ul>
              </li>
              
              <li class="li_dropdown">
                <a class="li_parent" href="javascript:;">JavaScript</a>
                <ul>
                  
                  <li ><a href="/logging-to-elmah-io-from-javascript/">Logging from JavaScript</a></li>
                  
                  <li ><a href="/logging-to-elmah-io-from-angular/">Logging from Angular</a></li>
                  
                  <li ><a href="/logging-to-elmah-io-from-react/">Logging from React</a></li>
                  
                  <li ><a href="/logging-to-elmah-io-from-vue/">Logging from Vue</a></li>
                  
                  <li ><a href="/logging-to-elmah-io-from-sveltekit/">Logging from SvelteKit</a></li>
                  
                  <li ><a href="/sourcemaps/">Source maps</a></li>
                  
                  <li ><a href="/javascript-troubleshooting/">JavaScript troubleshooting</a></li>
                  
                </ul>
              </li>
              
              <li class="li_dropdown">
                <a class="li_parent" href="javascript:;">CMS/Blogs</a>
                <ul>
                  
                  <li ><a href="/logging-to-elmah-io-from-umbraco/">Logging from Umbraco</a></li>
                  
                  <li ><a href="/logging-to-elmah-io-from-sitefinity/">Logging from Sitefinity</a></li>
                  
                  <li ><a href="/logging-to-elmah-io-from-blogengine-net/">Logging from BlogEngine.NET</a></li>
                  
                  <li ><a href="/logging-to-elmah-io-from-orchard/">Logging from Orchard</a></li>
                  
                  <li ><a href="/logging-to-elmah-io-from-piranha-cms/">Logging from Piranha CMS</a></li>
                  
                </ul>
              </li>
              
              <li class="li_dropdown">
                <a class="li_parent" href="javascript:;">Mobile</a>
                <ul>
                  
                  <li ><a href="/logging-to-elmah-io-from-xamarin/">Logging from Xamarin</a></li>
                  
                  <li ><a href="/logging-to-elmah-io-from-uno/">Logging from Uno</a></li>
                  
                  <li ><a href="/logging-to-elmah-io-from-maui/">Logging from MAUI</a></li>
                  
                </ul>
              </li>
              
              <li class="li_dropdown">
                <a class="li_parent" href="javascript:;">Logging from something else</a>
                <ul>
                  
                  <li ><a href="/logging-to-elmah-io-from-wcf/">Logging from WCF</a></li>
                  
                  <li ><a href="/logging-to-elmah-io-from-corewcf/">Logging from CoreWCF</a></li>
                  
                  <li ><a href="/logging-to-elmah-io-from-azure-functions/">Logging from Azure Functions</a></li>
                  
                  <li ><a href="/logging-to-elmah-io-from-isolated-azure-functions/">Logging from Isolated Azure Functions</a></li>
                  
                  <li ><a href="/logging-to-elmah-io-from-powershell/">Logging from PowerShell</a></li>
                  
                  <li ><a href="/logging-to-elmah-io-from-wpf/">Logging from WPF</a></li>
                  
                  <li ><a href="/logging-to-elmah-io-from-winui/">Logging from WinUI</a></li>
                  
                  <li ><a href="/logging-to-elmah-io-from-winforms/">Logging from Windows Forms</a></li>
                  
                  <li ><a href="/logging-to-elmah-io-from-entity-framework-core/">Logging from Entity Framework Core</a></li>
                  
                  <li ><a href="/logging-to-elmah-io-from-console-application/">Logging from C# and console applications</a></li>
                  
                  <li ><a href="/logging-to-elmah-io-from-opentelemetry/">Logging from OpenTelemetry</a></li>
                  
                  <li ><a href="/logging-to-elmah-io-from-httpclient/">Logging from HttpClient</a></li>
                  
                  <li ><a href="/logging-to-elmah-io-from-aws-beanstalk/">Logging from AWS Beanstalk</a></li>
                  
                  <li ><a href="/logging-to-elmah-io-from-aws-lambdas/">Logging from AWS Lambdas</a></li>
                  
                  <li ><a href="/logging-to-elmah-io-from-servicestack/">Logging from ServiceStack</a></li>
                  
                  <li ><a href="/logging-to-elmah-io-from-devexpress/">Logging from DevExpress (eXpressApp Framework)</a></li>
                  
                  <li ><a href="/logging-to-elmah-io-from-google-cloud-functions/">Logging from Google Cloud Functions</a></li>
                  
                  <li ><a href="/logging-to-elmah-io-from-system-diagnostics/">Logging from System.Diagnostics</a></li>
                  
                  <li ><a href="/logging-to-elmah-io-from-azure-webjobs/">Logging from Azure WebJobs</a></li>
                  
                  <li ><a href="/logging-to-elmah-io-from-nancy/">Logging from Nancy</a></li>
                  
                </ul>
              </li>
              
              <li class="li_dropdown">
                <a class="li_parent" href="javascript:;">Apps and Integrations</a>
                <ul>
                  
                  <li ><a href="/elmah-io-apps-slack/">Slack</a></li>
                  
                  <li ><a href="/elmah-io-apps-teams/">Microsoft Teams</a></li>
                  
                  <li ><a href="/elmah-io-apps-twilio/">Twilio</a></li>
                  
                  <li ><a href="/elmah-io-apps-jira/">Jira</a></li>
                  
                  <li ><a href="/elmah-io-apps-azure-boards/">Azure Boards</a></li>
                  
                  <li ><a href="/elmah-io-apps-bitbucket/">Bitbucket</a></li>
                  
                  <li ><a href="/elmah-io-apps-github/">GitHub</a></li>
                  
                  <li ><a href="/elmah-io-apps-gitlab/">GitLab</a></li>
                  
                  <li ><a href="/elmah-io-apps-hipchat/">HipChat</a></li>
                  
                  <li ><a href="/integrate-elmah-io-with-pipedream/">Pipedream</a></li>
                  
                  <li ><a href="/elmah-io-apps-trello/">Trello</a></li>
                  
                  <li ><a href="/elmah-io-apps-youtrack/">YouTrack</a></li>
                  
                  <li ><a href="/integrate-elmah-io-with-zapier/">Zapier</a></li>
                  
                  <li ><a href="/elmah-io-apps-pagerduty/">PagerDuty</a></li>
                  
                  <li ><a href="/elmah-io-apps-clickup/">ClickUp</a></li>
                  
                  <li ><a href="/elmah-io-apps-chatgpt/">ChatGPT</a></li>
                  
                  <li ><a href="/elmah-io-apps-fixes/">Fixes</a></li>
                  
                  <li ><a href="/elmah-io-apps-botbuster/">BotBuster (deprecated)</a></li>
                  
                  <li ><a href="/elmah-io-apps-ipfilter/">IP Filter (deprecated)</a></li>
                  
                  <li ><a href="/elmah-io-apps-mailman/">Mailman (deprecated)</a></li>
                  
                  <li ><a href="/elmah-io-apps-request-a-new-integration/">Request a new integration</a></li>
                  
                </ul>
              </li>
              
              <li class="li_dropdown">
                <a class="li_parent" href="javascript:;">Uptime Monitoring</a>
                <ul>
                  
                  <li ><a href="/setup-uptime-monitoring/">Set up Uptime Monitoring</a></li>
                  
                  <li ><a href="/missing-server-side-information-on-uptime-errors/">Missing server-side information on uptime errors</a></li>
                  
                  <li ><a href="/allowing-elmah-io-uptime-agents/">Allowing elmah.io uptime agents</a></li>
                  
                  <li ><a href="/uptime-monitoring-troubleshooting/">Uptime Monitoring Troubleshooting</a></li>
                  
                </ul>
              </li>
              
              <li class="li_dropdown">
                <a class="li_parent" href="javascript:;">Heartbeats</a>
                <ul>
                  
                  <li ><a href="/setup-heartbeats/">Set up Heartbeats</a></li>
                  
                  <li ><a href="/logging-heartbeats-from-asp-net-core/">Logging heartbeats from ASP.NET Core</a></li>
                  
                  <li ><a href="/logging-heartbeats-from-azure-functions/">Logging heartbeats from Azure Functions</a></li>
                  
                  <li ><a href="/logging-heartbeats-from-isolated-azure-functions/">Logging heartbeats from Isolated Azure Functions</a></li>
                  
                  <li ><a href="/logging-heartbeats-from-powershell/">Logging heartbeats from PowerShell</a></li>
                  
                  <li ><a href="/logging-heartbeats-from-curl/">Logging heartbeats from cURL</a></li>
                  
                  <li ><a href="/logging-heartbeats-from-umbraco/">Logging heartbeats from Umbraco</a></li>
                  
                  <li ><a href="/logging-heartbeats-from-hangfire/">Logging heartbeats from Hangfire</a></li>
                  
                  <li ><a href="/logging-heartbeats-from-coravel/">Logging heartbeats from Coravel</a></li>
                  
                  <li ><a href="/logging-heartbeats-from-net-core-worker-services/">Logging heartbeats from .NET Core Worker Services</a></li>
                  
                  <li ><a href="/logging-heartbeats-from-aws-lambdas/">Logging heartbeats from AWS Lambdas</a></li>
                  
                  <li ><a href="/logging-heartbeats-from-windows-scheduled-tasks/">Logging heartbeats from Windows Scheduled Tasks</a></li>
                  
                  <li ><a href="/heartbeats-troubleshooting/">Heartbeats Troubleshooting</a></li>
                  
                </ul>
              </li>
              
              <li class="li_dropdown">
                <a class="li_parent" href="javascript:;">Deployment Tracking</a>
                <ul>
                  
                  <li ><a href="/setup-deployment-tracking/">Set up Deployment Tracking</a></li>
                  
                  <li ><a href="/create-deployments-from-powershell/">Create deployments from PowerShell</a></li>
                  
                  <li ><a href="/create-deployments-from-cli/">Create deployments from CLI</a></li>
                  
                  <li ><a href="/create-deployments-from-octopus-deploy/">Create deployments from Octopus Deploy</a></li>
                  
                  <li ><a href="/create-deployments-from-kudu/">Create deployments from Kudu</a></li>
                  
                  <li ><a href="/create-deployments-from-azure-devops-pipelines/">Create deployments from Azure DevOps Pipelines</a></li>
                  
                  <li ><a href="/create-deployments-from-azure-devops-releases/">Create deployments from Azure DevOps Releases</a></li>
                  
                  <li ><a href="/create-deployments-from-github-actions/">Create deployments from GitHub Actions</a></li>
                  
                  <li ><a href="/create-deployments-from-gitlab-pipelines/">Create deployments from GitLab Pipelines</a></li>
                  
                  <li ><a href="/create-deployments-from-umbraco-cloud/">Create deployments from Umbraco Cloud</a></li>
                  
                  <li ><a href="/create-deployments-from-bitbucket-pipelines/">Create deployments from Bitbucket Pipelines</a></li>
                  
                  <li ><a href="/create-deployments-from-atlassian-bamboo/">Create deployments from Atlassian Bamboo</a></li>
                  
                </ul>
              </li>
              
              <li class="li_dropdown">
                <a class="li_parent" href="javascript:;">CLI</a>
                <ul>
                  
                  <li ><a href="/cli-overview/">CLI overview</a></li>
                  
                  <li ><a href="/cli-clear/">Clear</a></li>
                  
                  <li ><a href="/cli-dataloader/">Dataloader</a></li>
                  
                  <li ><a href="/cli-deployment/">Deployment</a></li>
                  
                  <li ><a href="/cli-diagnose/">Diagnose</a></li>
                  
                  <li ><a href="/cli-export/">Export</a></li>
                  
                  <li ><a href="/cli-import/">Import</a></li>
                  
                  <li ><a href="/cli-log/">Log</a></li>
                  
                  <li ><a href="/cli-sourcemap/">Sourcemap</a></li>
                  
                  <li ><a href="/cli-tail/">Tail</a></li>
                  
                </ul>
              </li>
              
              <li class="li_dropdown">
                <a class="li_parent" href="javascript:;">Everything Else</a>
                <ul>
                  
                  <li ><a href="/managing-organisations-and-users/">Managing Organisations and Users</a></li>
                  
                  <li ><a href="/where-is-my-log-id/">Where is my log ID</a></li>
                  
                  <li ><a href="/where-is-my-api-key/">Where is my API key</a></li>
                  
                  <li ><a href="/where-is-the-permalink-button/">Where is the permalink button</a></li>
                  
                  <li ><a href="/where-is-my-invoice-receipt/">Where is my invoice / receipt</a></li>
                  
                  <li ><a href="/how-to-manage-subscriptions-update-credit-cards-etc/">How to manage subscriptions, update credit cards, etc.</a></li>
                  
                  <li ><a href="/managing-environments/">Managing Environments</a></li>
                  
                  <li ><a href="/how-to-delete-my-account/">How to delete my account</a></li>
                  
                  <li ><a href="/how-to-configure-api-key-permissions/">How to configure API key permissions</a></li>
                  
                  <li ><a href="/how-to-enable-two-factor-login/">How to enable two-factor login</a></li>
                  
                  <li ><a href="/how-to-rename-a-log/">How to rename a log</a></li>
                  
                  <li ><a href="/how-to-include-source-code-in-log-messages/">How to include source code in log messages</a></li>
                  
                  <li ><a href="/how-to-search-custom-data/">How to search custom data</a></li>
                  
                  <li ><a href="/how-to-get-the-sql-tab-to-show-up/">How to get the SQL tab to show up</a></li>
                  
                  <li ><a href="/how-to-configure-and-use-bugster/">How to configure and use Bugster</a></li>
                  
                  <li ><a href="/creating-rules-to-perform-actions-on-messages/">Creating Rules to Perform Actions on Messages</a></li>
                  
                  <li ><a href="/query-messages-using-full-text-search/">Query messages using full-text search</a></li>
                  
                  <li ><a href="/tips-and-tricks-to-stay-below-your-message-limit/">Tips and tricks to stay below your message limit</a></li>
                  
                  <li ><a href="/use-extended-user-details-without-email-as-id/">Use extended user details without email as ID</a></li>
                  
                  <li ><a href="/adding-version-information/">Adding version information</a></li>
                  
                  <li ><a href="/bot-detection/">Bot detection</a></li>
                  
                  <li ><a href="/include-filename-and-line-number-in-stacktraces/">Include filename and line number in stack traces</a></li>
                  
                  <li ><a href="/how-does-the-new-detection-work/">How does the new detection work</a></li>
                  
                  <li ><a href="/how-to-correlate-messages-across-services/">How to correlate messages across services</a></li>
                  
                  <li ><a href="/how-to-get-elmah-io-to-resolve-the-correct-client-ip/">How to get elmah.io to resolve the correct client IP</a></li>
                  
                  <li ><a href="/how-to-avoid-emails-getting-classified-as-spam/">How to avoid emails getting classified as spam</a></li>
                  
                  <li ><a href="/how-prices-are-calculated/">How prices are calculated</a></li>
                  
                  <li ><a href="/how-to-run-elmah-io-in-dark-mode/">How to run elmah.io in dark mode</a></li>
                  
                  <li ><a href="/how-to-show-elmah-io-dashboards-on-a-big-screen/">How to show elmah.io dashboards on a big screen</a></li>
                  
                  <li ><a href="/handle-elmah-io-downtime/">Handle elmah.io downtime</a></li>
                  
                  <li ><a href="/using-the-elmah-io-extension-for-visual-studio/">Using the elmah.io extension for Visual Studio</a></li>
                  
                  <li ><a href="/using-the-rest-api/">Using the REST API</a></li>
                  
                  <li ><a href="/how-to-log-to-elmah-io-from-net-4-5/">How to log to elmah.io from .NET 4.5</a></li>
                  
                  <li ><a href="/upgrade-elmah-io-from-v4-to-v5/">Upgrade elmah.io from v4 to v5</a></li>
                  
                  <li ><a href="/upgrade-elmah-io-from-v3-to-v4/">Upgrade elmah.io from v3 to v4</a></li>
                  
                  <li ><a href="/upgrade-elmah-io-from-v2-to-v3/">Upgrade elmah.io from v2 to v3</a></li>
                  
                  <li ><a href="/email-troubleshooting/">Email troubleshooting</a></li>
                  
                  <li ><a href="/elmah-and-elmah-io-differences/">ELMAH and elmah.io differences</a></li>
                  
                  <li ><a href="/vulnerability-disclosure-program/">Vulnerability Disclosure Program (VDP)</a></li>
                  
                </ul>
              </li>
              
            </ul>
          </div>
        </aside>

        <div class="d-grid w-100 d-block d-md-none">
          <a id="show-sidebar" href="javascript:;" class="btn btn-light border">
            <span class="fal fa-bars me-2"></span><span>Documentation menu</span>
          </a>
        </div>

        <article class="col main-content">
          <div class="main-content-body">

            <p><a href="https://github.com/elmahio/Elmah.Io.Extensions.Logging/actions?query=workflow%3Abuild"><img alt="Build status" src="https://github.com/elmahio/Elmah.Io.Extensions.Logging/workflows/build/badge.svg" /></a>
<a href="https://www.nuget.org/packages/Elmah.Io.Extensions.Logging"><img alt="NuGet" src="https://img.shields.io/nuget/v/Elmah.Io.Extensions.Logging.svg" /></a>
<a href="https://github.com/elmahio/Elmah.Io.Extensions.Logging/tree/main/samples"><img alt="Samples" src="https://img.shields.io/badge/samples-11-brightgreen.svg" /></a></p>
<h1 id="logging-to-elmahio-from-microsoftextensionslogging">Logging to elmah.io from Microsoft.Extensions.Logging</h1>
<div class="toc">
<ul>
<li><a href="#logging-to-elmahio-from-microsoftextensionslogging">Logging to elmah.io from Microsoft.Extensions.Logging</a><ul>
<li><a href="#logging-from-aspnet-core">Logging from ASP.NET Core</a><ul>
<li><a href="#include-http-context">Include HTTP context</a></li>
</ul>
</li>
<li><a href="#logging-from-a-console-application">Logging from a console application</a></li>
<li><a href="#logging-custom-properties">Logging custom properties</a><ul>
<li><a href="#setting-category">Setting category</a></li>
</ul>
</li>
<li><a href="#logging-with-loggermessage">Logging with LoggerMessage</a></li>
<li><a href="#include-source-code">Include source code</a></li>
<li><a href="#options">Options</a><ul>
<li><a href="#setting-application-name">Setting application name</a></li>
<li><a href="#appsettingsjson-configuration">appsettings.json configuration</a></li>
<li><a href="#filtering-log-messages">Filtering log messages</a></li>
<li><a href="#logging-through-a-proxy">Logging through a proxy</a></li>
</ul>
</li>
<li><a href="#microsoftextensionslogging-troubleshooting">Microsoft.Extensions.Logging Troubleshooting</a></li>
</ul>
</li>
</ul>
</div>
<p>Microsoft.Extensions.Logging is both a logging framework itself and a logging abstraction on top of other logging frameworks like log4net and Serilog.</p>
<p>Start by installing the <a href="https://www.nuget.org/packages/Elmah.Io.Extensions.Logging/">Elmah.Io.Extensions.Logging</a> package:</p>
<div class=md-fenced-code-tabs id=tab-tab-group-0><ul class="nav nav-tabs"><li class=nav-item><a class="nav-link active" id=tab-group-0-0_cmd-tab data-bs-toggle=tab data-bs-target=#tab-group-0-0_cmd-panel type=button role=tab data-lang=cmd aria-controls=tab-group-0-0_cmd-panel aria-selected=true>.NET CLI</a></li><li class=nav-item><a class="nav-link " id=tab-group-0-1_powershell-tab data-bs-toggle=tab data-bs-target=#tab-group-0-1_powershell-panel type=button role=tab data-lang=powershell aria-controls=tab-group-0-1_powershell-panel aria-selected=false>Package Manager</a></li><li class=nav-item><a class="nav-link " id=tab-group-0-2_xml-tab data-bs-toggle=tab data-bs-target=#tab-group-0-2_xml-panel type=button role=tab data-lang=xml aria-controls=tab-group-0-2_xml-panel aria-selected=false>PackageReference</a></li><li class=nav-item><a class="nav-link " id=tab-group-0-3_xml-tab data-bs-toggle=tab data-bs-target=#tab-group-0-3_xml-panel type=button role=tab data-lang=xml aria-controls=tab-group-0-3_xml-panel aria-selected=false>Paket CLI</a></li></ul><div class=tab-content><div id=tab-group-0-0_cmd-panel class="tab-pane show active" role=tabpanel aria-labelledby=tab-group-0-0_cmd-tab><pre><code class=cmd>dotnet add package Elmah.Io.Extensions.Logging
</code></pre></div><div id=tab-group-0-1_powershell-panel class="tab-pane " role=tabpanel aria-labelledby=tab-group-0-1_powershell-tab><pre><code class=powershell>Install-Package Elmah.Io.Extensions.Logging
</code></pre></div><div id=tab-group-0-2_xml-panel class="tab-pane " role=tabpanel aria-labelledby=tab-group-0-2_xml-tab><pre><code class=xml>&lt;PackageReference Include=&quot;Elmah.Io.Extensions.Logging&quot; Version=&quot;5.*&quot; /&gt;
</code></pre></div><div id=tab-group-0-3_xml-panel class="tab-pane " role=tabpanel aria-labelledby=tab-group-0-3_xml-tab><pre><code class=xml>paket add Elmah.Io.Extensions.Logging
</code></pre></div></div></div>
<p>Locate your API key (<a href="../where-is-my-api-key/">Where is my API key?</a>) and log ID. The two values will be referenced as <code>API_KEY</code> and <code>LOG_ID</code> (<a href="../where-is-my-log-id/">Where is my log ID?</a>) in the following.</p>
<h2 id="logging-from-aspnet-core">Logging from ASP.NET Core</h2>
<p>In the <code>Program.cs</code> file, add a new <code>using</code> statement:</p>
<p> <pre><code class=csharp>using Elmah.Io.Extensions.Logging;
</code></pre></p>
<p>Then call the <code>AddElmahIo</code>-method as shown here:</p>
<p> <pre><code class=csharp>builder.Logging.AddElmahIo(options =&gt;
{
    options.ApiKey = &quot;API_KEY&quot;;
    options.LogId = new Guid(&quot;LOG_ID&quot;);
});
builder.Logging.AddFilter&lt;ElmahIoLoggerProvider&gt;(null, LogLevel.Warning);
</code></pre></p>
<p>By calling, the <code>AddFilter</code>-method, you ensure that only warnings and up are logged to elmah.io.</p>
<p>The API key and log ID can also be configured in <code>appsettings.json</code>:</p>
<p> <pre><code class=json>{
  // ...
  &quot;ElmahIo&quot;: {
    &quot;ApiKey&quot;: &quot;API_KEY&quot;,
    &quot;LogId&quot;: &quot;LOG_ID&quot;
  }
}
</code></pre></p>
<p>To tell Microsoft.Extensions.Logging to use configuration from the <code>appsettings.json</code> file, include the following code in <code>Program.cs</code>:</p>
<p> <pre><code class=csharp>builder.Services.Configure&lt;ElmahIoProviderOptions&gt;(builder.Configuration.GetSection(&quot;ElmahIo&quot;));
builder.Logging.AddConfiguration(builder.Configuration.GetSection(&quot;Logging&quot;));
builder.Logging.AddElmahIo();
</code></pre></p>
<p>The first line fetches elmah.io configuration from the <code>ElmahIo</code> object in the <code>appsettings.json</code> file. The second line configures log levels in Microsoft.Extensions.Logging from the <code>Logging</code> object in <code>appsettings.json</code>. The third line adds the elmah.io logger to Microsoft.Extensions.Logging. Notice how the overload without any options object is called since options are already loaded from <code>appsettings.json</code>.</p>
<p>Start logging messages by injecting an <code>ILogger</code> in your controllers:</p>
<p> <pre><code class=csharp>public class HomeController : Controller
{
    private readonly ILogger&lt;HomeController&gt; logger;

    public HomeController(ILogger&lt;HomeController&gt; logger)
    {
        this.logger = logger;
    }

    public IActionResult Index()
    {
        logger.LogWarning(&quot;Request to index&quot;);
        return View();
    }
}
</code></pre></p>
<h3 id="include-http-context">Include HTTP context</h3>
<p>A common use case for using Microsoft.Extensions.Logging is part of an ASP.NET Core project. When combining the two, you would expect the log messages to contain relevant information from the HTTP context (like URL, status code, cookies, etc.). This is not the case out of the box, since Microsoft.Extensions.Logging doesn't know which project type includes it.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Logging HTTP context requires <code>Elmah.Io.Extensions.Logging</code> version <code>3.6.x</code> or newer.</p>
</div>
<p>To add HTTP context properties to log messages when logging from ASP.NET Core, install the <code>Elmah.Io.AspNetCore.ExtensionsLogging</code> NuGet package:</p>
<div class=md-fenced-code-tabs id=tab-tab-group-6><ul class="nav nav-tabs"><li class=nav-item><a class="nav-link active" id=tab-group-6-0_cmd-tab data-bs-toggle=tab data-bs-target=#tab-group-6-0_cmd-panel type=button role=tab data-lang=cmd aria-controls=tab-group-6-0_cmd-panel aria-selected=true>.NET CLI</a></li><li class=nav-item><a class="nav-link " id=tab-group-6-1_powershell-tab data-bs-toggle=tab data-bs-target=#tab-group-6-1_powershell-panel type=button role=tab data-lang=powershell aria-controls=tab-group-6-1_powershell-panel aria-selected=false>Package Manager</a></li><li class=nav-item><a class="nav-link " id=tab-group-6-2_xml-tab data-bs-toggle=tab data-bs-target=#tab-group-6-2_xml-panel type=button role=tab data-lang=xml aria-controls=tab-group-6-2_xml-panel aria-selected=false>PackageReference</a></li><li class=nav-item><a class="nav-link " id=tab-group-6-3_xml-tab data-bs-toggle=tab data-bs-target=#tab-group-6-3_xml-panel type=button role=tab data-lang=xml aria-controls=tab-group-6-3_xml-panel aria-selected=false>Paket CLI</a></li></ul><div class=tab-content><div id=tab-group-6-0_cmd-panel class="tab-pane show active" role=tabpanel aria-labelledby=tab-group-6-0_cmd-tab><pre><code class=cmd>dotnet add package Elmah.Io.AspNetCore.ExtensionsLogging
</code></pre></div><div id=tab-group-6-1_powershell-panel class="tab-pane " role=tabpanel aria-labelledby=tab-group-6-1_powershell-tab><pre><code class=powershell>Install-Package Elmah.Io.AspNetCore.ExtensionsLogging
</code></pre></div><div id=tab-group-6-2_xml-panel class="tab-pane " role=tabpanel aria-labelledby=tab-group-6-2_xml-tab><pre><code class=xml>&lt;PackageReference Include=&quot;Elmah.Io.AspNetCore.ExtensionsLogging&quot; Version=&quot;5.*&quot; /&gt;
</code></pre></div><div id=tab-group-6-3_xml-panel class="tab-pane " role=tabpanel aria-labelledby=tab-group-6-3_xml-tab><pre><code class=xml>paket add Elmah.Io.AspNetCore.ExtensionsLogging
</code></pre></div></div></div>
<p>Then call the <code>UseElmahIoExtensionsLogging</code> method in the <code>Program.cs</code> file:</p>
<p> <pre><code class=csharp>// ... Exception handling middleware
app.UseElmahIoExtensionsLogging();
// ... UseMvc etc.
</code></pre></p>
<p>It's important to call the <code>UseElmahIoExtensionsLogging</code> method <strong>after</strong> any calls to <code>UseElmahIo</code>, <code>UseAuthentication</code>, and other exception handling middleware but <strong>before</strong> <code>UseMvc</code> and <code>UseEndpoints</code>. If you experience logged errors without the HTTP context, try moving the <code>UseElmahIoExtensionsLogging</code> method as the first call in the <code>Configure</code> method.</p>
<h2 id="logging-from-a-console-application">Logging from a console application</h2>
<p>Choose the right framework version:</p>
<div class="tabbable-responsive">
<div class="tabbable">
<ul class="nav nav-tabs" role="tablist">
    <li role="presentation" class="nav-item"><a class="nav-link active" href="#netcore6" aria-controls="home" role="tab" data-bs-toggle="tab" data-bs-tab="net6">.NET >= 6</a></li>
    <li role="presentation" class="nav-item"><a class="nav-link" href="#netcore3" aria-controls="home" role="tab" data-bs-toggle="tab" data-bs-tab="net3">.NET Core 3</a></li>
</ul>
</div>
</div>

<div class="tab-content tab-content-tabbable">
<div class="tab-pane active" id="netcore6" role="tabpanel">
<p>Configure logging to elmah.io using a new or existing <code>ServiceCollection</code>:</p>
<p> <pre><code class=csharp>var services = new ServiceCollection();
services.AddLogging(logging =&gt; logging.AddElmahIo(options =&gt;
{
    options.ApiKey = &quot;API_KEY&quot;;
    options.LogId = new Guid(&quot;LOG_ID&quot;);
}));
</code></pre></p>
<p>Get a reference to the <code>LoggerFactory</code>:</p>
<p> <pre><code class=csharp>using var serviceProvider = services.BuildServiceProvider();
var loggerFactory = serviceProvider.GetService&lt;ILoggerFactory&gt;();
</code></pre></p>
</div>
<div class="tab-pane" id="netcore3" role="tabpanel">
<p>Create a new <code>LoggerFactory</code> and configure it to use elmah.io:</p>
<p> <pre><code class=csharp>using var loggerFactory = LoggerFactory.Create(builder =&gt; builder
    .AddElmahIo(options =&gt;
    {
        options.ApiKey = &quot;API_KEY&quot;;
        options.LogId = new Guid(&quot;LOG_ID&quot;);
    }));
</code></pre></p>
</div>
</div>
<p>Adding the <code>using</code> keyword is important to let elmah.io store messages before exiting the application.</p>
<p>Finally, create a new logger and start logging exceptions:</p>
<p> <pre><code class=csharp>var logger = factory.CreateLogger(&quot;MyLog&quot;);
logger.LogError(ex, &quot;Unexpected error&quot;);
</code></pre></p>
<h2 id="logging-custom-properties">Logging custom properties</h2>
<p><code>Elmah.Io.Extensions.Logging</code> support Microsoft.Extensions.Logging scopes from version <code>3.6.x</code>. In short, scopes are a way to decorate your log messages like enrichers in Serilog and context in NLog and log4net. By including properties in a scope, these properties automatically go into the <em>Data</em> tab on elmah.io.</p>
<p>To define a new scope, wrap your logging code in a <code>using</code>:</p>
<p> <pre><code class=csharp>using (logger.BeginScope(new Dictionary&lt;string, object&gt; { { &quot;UserId&quot;, 42 } }))
{
    logger.LogInformation(&quot;Someone says hello&quot;);
}
</code></pre></p>
<p>In the example above, the <code>UserId</code> key will be added on the <em>Data</em> tab with the value of <code>42</code>.</p>
<p>Like the other logging framework integrations, <code>Elmah.Io.Extensions.Logging</code> supports a range of known keys that can be used to insert value in the correct fields on the elmah.io UI.</p>
<p> <pre><code class=csharp>using (logger.BeginScope(new Dictionary&lt;string, object&gt;
    { { &quot;statuscode&quot;, 500 }, { &quot;method&quot;, &quot;GET&quot; } }))
{
    logger.LogError(&quot;Request to {url} caused an error&quot;, &quot;/profile&quot;);
}
</code></pre></p>
<p>In this example, a log message with the template <code>Request to {url} caused an error</code> to be logged. The use of the variable names <code>statuscode</code>, <code>method</code>, and <code>url</code> will fill in those values in the correct fields on elmah.io. For a reference of all possible property names, check out the property names on <a href="https://github.com/elmahio/Elmah.Io.Client/blob/main/src/Elmah.Io.Client/ElmahioClient.cs#L4371C26-L4371C39">CreateMessage</a>.</p>
<p>An alternative is to use the <code>OnMessage</code> action. As an example, we'll add a version number to all messages:</p>
<p> <pre><code class=csharp>logging
    .AddElmahIo(options =&gt;
    {
        // ...
        options.OnMessage = msg =&gt;
        {
            msg.Version = &quot;2.0.0&quot;;
        };
    });
</code></pre></p>
<p>You can even access the current HTTP context in the <code>OnMessage</code> action. To do so, start by creating a new class named <code>DecorateElmahIoMessages</code>:</p>
<p> <pre><code class=csharp>public class DecorateElmahIoMessages : IConfigureOptions&lt;ElmahIoProviderOptions&gt;
{
    private readonly IHttpContextAccessor httpContextAccessor;

    public DecorateElmahIoMessages(IHttpContextAccessor httpContextAccessor)
    {
        this.httpContextAccessor = httpContextAccessor;
    }

    public void Configure(ElmahIoProviderOptions options)
    {
        options.OnMessage = msg =&gt;
        {
            var context = httpContextAccessor.HttpContext;
            if (context == null) return;
            msg.User = context.User?.Identity?.Name;
        };
    }
}
</code></pre></p>
<p>Then register <code>IHttpContextAccessor</code> and the new class in the <code>Program.cs</code> file:</p>
<p> <pre><code class=csharp>builder.Services.AddHttpContextAccessor();
builder.Services.AddSingleton&lt;IConfigureOptions&lt;ElmahIoProviderOptions&gt;, DecorateElmahIoMessages&gt;();
</code></pre></p>
<h3 id="setting-category">Setting category</h3>
<p>elmah.io provide a field named <em>Category</em> to better group log messages by class name, namespace, or similar. Category maps to Microsoft.Extensions.Logging field of the same name. The category field is automatically set when using a typed logger:</p>
<p> <pre><code class=csharp>ILogger&lt;MyType&gt; logger = ...;
logger.LogInformation(&quot;This is an information message with category&quot;);
</code></pre></p>
<p>The category can be overwritten using a property named <code>category</code> on either the log message or a new scope:</p>
<p> <pre><code class=csharp>using (logger.BeginScope(new Dictionary&lt;string, object&gt; { { &quot;category&quot;, &quot;The category&quot; } }))
{
    logger.LogInformation(&quot;This is an information message with category&quot;);
}
</code></pre></p>
<h2 id="logging-with-loggermessage">Logging with LoggerMessage</h2>
<p>.NET 6 introduced the <code>LoggerMessage</code> attribute that uses source generators for highly usable and performant log statements. <code>Elmah.Io.Extensions.Logging</code> fully supports log messages sent through logger messages.</p>
<p> <pre><code class=csharp>[LoggerMessage(Level = LogLevel.Information, Message = &quot;Created {UserId}&quot;)]
private static partial void LogUserCreated(ILogger logger, int userId);

// ...

LogUserCreated(logger, 42);
</code></pre></p>
<p>This will log a message saying <code>Created 42</code> to elmah.io. Remember that the class including the <code>LogUserCreated</code> method needs to be declared as <code>partial</code> as well.</p>
<p>.NET 8 extends this even further by offering a new <code>LogProperties</code> attribute:</p>
<p> <pre><code class=csharp>[LoggerMessage(Level = LogLevel.Information, Message = &quot;Created user&quot;)]
private static partial void LogUserCreated(ILogger logger, [LogProperties]User user);

// ...

LogUserCreated(logger, new User
{
    Firstname = &quot;Tyrion&quot;,
    Lastname = &quot;Lannister&quot;
});
</code></pre></p>
<p>By adding the <code>LogProperties</code> attribute to the <code>User</code> parameter, a log message saying <code>Created user</code> will be sent to elmah.io. In addition, the <em>Data</em> tab on the extended log message details will show the keys <code>user.Firstname</code> and <code>user.Lastname</code> with the values from the <code>User</code> object provided for the <code>LogUserCreated</code> method.</p>
<h2 id="include-source-code">Include source code</h2>
<p>You can use the <code>OnMessage</code> action already described to include source code to log messages. This will require a stack trace in the <code>Detail</code> property with filenames and line numbers in it.</p>
<p>There are multiple ways of including source code to log messages. In short, you will need to install the <code>Elmah.Io.Client.Extensions.SourceCode</code> NuGet package and call the <code>WithSourceCodeFromPdb</code> method in the <code>OnMessage</code> action:</p>
<p> <pre><code class=csharp>logging
    .AddElmahIo(options =&gt;
    {
        // ...
        options.OnMessage = msg =&gt;
        {
            msg.WithSourceCodeFromPdb();
        };
    });
</code></pre></p>
<p>Check out <a href="../how-to-include-source-code-in-log-messages/">How to include source code in log messages</a> for additional requirements to make source code show up on elmah.io.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Including source code on log messages is available in the <code>Elmah.Io.Client</code> v4 package and forward.</p>
</div>
<h2 id="options">Options</h2>
<h3 id="setting-application-name">Setting application name</h3>
<p>If logging to the same log from multiple applications it is a good idea to set unique application names from each app. This will let you search and filter errors on the elmah.io UI. To set an application name, add the following code to the options:</p>
<p> <pre><code class=csharp>logging.AddElmahIo(options =&gt;
{
    // ...
    options.Application = &quot;MyApp&quot;;
});
</code></pre></p>
<p>The application name can also be configured through <code>appsettings.json</code>:</p>
<p> <pre><code class=json>{
  // ...
  &quot;ElmahIo&quot;: {
    // ...
    &quot;Application&quot;: &quot;MyApp&quot;
  }
}
</code></pre></p>
<h3 id="appsettingsjson-configuration">appsettings.json configuration</h3>
<p>Some of the configuration for Elmah.Io.Extensions.Logging can be done through the <code>appsettings.json</code> file when using ASP.NET Core 2.x or above. To configure the minimum log level, add a new logger named <code>ElmahIo</code> to the settings file:</p>
<p> <pre><code class=json>{
  &quot;Logging&quot;: {
    // ...
    &quot;ElmahIo&quot;: {
      &quot;LogLevel&quot;: {
        &quot;Default&quot;: &quot;Warning&quot;
      }
    }
  }
}
</code></pre></p>
<p>Finally, tell the logger to look for this information, by adding a bit of code to <code>Program.cs</code>:</p>
<p> <pre><code class=csharp>builder.Logging.AddConfiguration(builder.Configuration.GetSection(&quot;Logging&quot;));
</code></pre></p>
<h3 id="filtering-log-messages">Filtering log messages</h3>
<p>As default, the elmah.io logger for Microsoft.Extensions.Logging only logs warnings, errors, and fatals. The rationale behind this is that we build an error management system and doesn't do much to support millions of debug messages from your code. Sometimes you may want to log non-exception messages, though. To do so, use filters in Microsoft.Extensions.Logging.</p>
<p>To log everything from log level <code>Information</code> and up, do the following:</p>
<p>Inside <code>Program.cs</code> change the minimum level:</p>
<p> <pre><code class=csharp>builder.Logging.AddFilter&lt;ElmahIoLoggerProvider&gt;(null, LogLevel.Information);
</code></pre></p>
<p>In the code sample, every log message with a log level of <code>Information</code> and up will be logged to elmah.io.</p>
<h3 id="logging-through-a-proxy">Logging through a proxy</h3>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Proxy configuration requires <code>3.5.49</code> or newer.</p>
</div>
<p>You can log through a proxy using options:</p>
<p> <pre><code class=csharp>logging.AddElmahIo(options =&gt;
{
    // ...
    options.WebProxy = new WebProxy(&quot;localhost&quot;, 8000);
});
</code></pre></p>
<p>In this example, the elmah.io client routes all traffic through <code>http://localhost:8000</code>.</p>
<h2 id="microsoftextensionslogging-troubleshooting">Microsoft.Extensions.Logging Troubleshooting</h2>
<p>Here are some things to try out if logging from Microsoft.Extensions.Logging to elmah.io doesn't work:</p>
<ul>
<li>Run the <code>diagnose</code> command with the <a href="../cli-overview/">elmah.io CLI</a> as shown here: <a href="../cli-diagnose/">Diagnose potential problems with an elmah.io installation</a>.</li>
</ul>
<p><strong><code>x</code> message(s) dropped because of queue size limit</strong></p>
<p>If you see this message in your log, it means that you are logging a large number of messages to elmah.io through Microsoft.Extensions.Logging within a short period of time. Either turn down the volume using filters:</p>
<p> <pre><code class=csharp>logging.AddElmahIo(options =&gt; { /*...*/ });
logging.AddFilter&lt;ElmahIoLoggerProvider&gt;(null, LogLevel.Warning);
</code></pre></p>
<p>or increase the queue size of <code>Elmah.Io.Extensions.Logging</code>:</p>
<p> <pre><code class=csharp>logging.AddElmahIo(options =&gt;
{
    // ...
    options.BackgroundQueueSize = 5000;
});
</code></pre></p>
<p><strong>Uncaught errors are logged twice</strong></p>
<p>If you have both <code>Elmah.Io.Extensions.Logging</code> and <code>Elmah.Io.AspNetCore</code> installed, you may see a pattern of uncaught errors being logged twice. This is because a range of middleware from Microsoft (and others) log uncaught exceptions through <code>ILogger</code>. When you have <code>Elmah.Io.AspNetCore</code> installed you typically don't want other pieces of middleware to log the same error but with fewer details.</p>
<p>To ignore duplicate errors you need to figure out which middleware class that trigger the logging and in which namespace it is located. One or more of the following ignore filters can be added to your <code>Program.cs</code> file:</p>
<p> <pre><code class=csharp>logging.AddFilter&lt;ElmahIoLoggerProvider&gt;(
    &quot;Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware&quot;, LogLevel.None);
logging.AddFilter&lt;ElmahIoLoggerProvider&gt;(
    &quot;Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware&quot;, LogLevel.None);
logging.AddFilter&lt;ElmahIoLoggerProvider&gt;(
    &quot;Microsoft.AspNetCore.Server.IIS.Core&quot;, LogLevel.None);
</code></pre></p>
<p>Be aware that these lines will ignore all messages from the specified class or namespace. To ignore specific errors you can implement the <code>OnFilter</code> action as shown previously in this document. Ignoring uncaught errors from IIS would look like this:</p>
<p> <pre><code class=csharp>options.OnFilter = msg =&gt;
{
    return msg.TitleTemplate == &quot;Connection ID \&quot;{ConnectionId}\&quot;, Request ID \&quot;{TraceIdentifier}\&quot;: An unhandled exception was thrown by the application.&quot;;
};
</code></pre></p>

            <br/>
            <p><small><em>This article was brought to you by the elmah.io team. elmah.io is the best error management system for .NET web applications. We monitor your website, alert you when errors start happening, and help you fix errors fast.</em></small></p>
            <p class="text-center">
                <a href="https://app.elmah.io/signup/" class="btn btn-lg btn-primary d-none d-sm-block white-space-normal">See how we can help you monitor your website for crashes</a>
                <a href="https://app.elmah.io/signup/" class="btn btn-lg btn-primary d-block d-sm-none">Monitor your website</a>
            </p>
          </div>
        </article>
      </div>
    </div>

    <footer>
    	<div id="back-to-top" class="d-block d-sm-none"><span class="far fa-arrow-up"></span></div>
    	<div class="pre-footer">
	    	<div class="container">
          <div class="company-logo">
					  <img class="img-fluid" src="../assets/img/elmahio.png" width="222" height="138" alt="elmah.io">
            <div class="bug-head"></div>
				  </div>
				  <a href="https://app.elmah.io/signup/" class="btn btn-primary float-end"><span>Sign Up Now</span><span class="info">no credit card required</span></a>
			  </div>
	    </div>
    	<div class="links">
    		<div class="container">
    			<div class="row">
    				<div class="col">
    					<span>Product</span>
    					<ul class="list-unstyled">
							  <li><a href="https://elmah.io/features/">Features</a></li>
							  <li><a href="https://elmah.io/pricing/">Pricing</a></li>
                <li><a href="https://elmah.io/tour/">Tour</a></li>
							  <li><a href="https://elmah.io/features/appstore/">App Store</a></li>
						  </ul>
            </div>
    				<div class="col">
    					<span>Company</span>
              <ul class="list-unstyled">
                <li><a href="https://elmah.io/about/">About</a></li>
                <li><a href="https://elmah.io/contact/">Contact</a></li>
                <li><a href="https://blog.elmah.io/">Blog</a></li>
                <li><a href="https://docs.elmah.io/">Docs</a></li>
              </ul>
    				</div>
    				<div class="col">
    					<span>Learn</span>
              <ul class="list-unstyled">
                <li><a href="https://elmah.io/customer-stories/">Customer Stories</a></li>
                <li><a href="https://elmah.io/for-ctos/">For CEOs and CTOs</a></li>
                <li><a href="https://elmah.io/alternatives/">Alternatives</a></li>
                <li><a href="https://elmah.io/api/v3/">API</a></li>
              </ul>
    				</div>
    				<div class="col">
    					<span>Guides</span>
              <ul class="list-unstyled">
                <li><a href="https://elmah.io/devops/">.NET DevOps</a></li>
                <li><a href="https://elmah.io/microservices/">.NET Microservices</a></li>
                <li><a href="https://elmah.io/cloud-logging/">.NET Cloud Logging</a></li>
                <li><a href="https://elmah.io/features/asp-net-core/">ASP.NET Core Error Logging</a></li>
              </ul>
    				</div>
    				<div class="col">
              <span>Online Tools</span>
              <ul class="list-unstyled">
                <li><a href="https://elmah.io/tools/config-validator/">Web.config Validator</a></li>
                <li><a href="https://elmah.io/tools/stack-trace-formatter/">Stack Trace Formatter</a></li>
                <li><a href="https://elmah.io/tools/webconfig-transformation-tester/">Web.config Transform Tester</a></li>
                <li><a href="https://elmah.io/tools/">More Free Tools</a></li>
              </ul>
            </div>
    			</div>
    		</div>
    	</div>
    	<div class="copyright">
    		<div class="container">
    			<div class="row no-gutters">
            <div class="col-lg-5 col-md-12 order-2 order-lg-1">
              <div class="text-center text-lg-start">
                <p>2013 - <span id="currentYear"></span> @ elmah.io. All Rights Reserved.</p>
                <p><a href="https://elmah.io/legal/terms-of-use/">Terms of Use</a> | <a href="https://elmah.io/legal/privacy-policy/">Privacy Policy</a> | <a href="https://elmah.io/legal/refund-policy/">Refund Policy</a></p>
              </div>
            </div>
            <div class="col-lg-2 col-md-12 order-3 order-lg-1">
              <ul class="list-unstyled social mb-0">
                <li class="list-inline-item"><a href="https://x.com/elmah_io" aria-label="Follow us on X"><i class="fab x-twitter"></i></a></li>
                <li class="list-inline-item"><a href="https://facebook.com/elmahdotio" aria-label="Follow us on Facebook"><i class="fab fa-facebook-f"></i></a></li>
                <li class="list-inline-item"><a href="https://www.linkedin.com/company/elmah-io/" aria-label="Follow us on LinkedIn"><i class="fab fa-linkedin-in"></i></a></li>
              </ul>
            </div>
            <div class="col-lg-5 col-md-12 order-1 order-lg-2">
              <div class="footer-badges text-center text-lg-end">
                <a href="https://elmah.io/security/"><img src="../assets/img/pcicompliant.png" width="67" height="40" draggable="false" alt="PCI Compliant" /></a>
                <a href="https://elmah.io/security/"><img src="../assets/img/gdpr.png" width="106" height="40" draggable="false" alt="GDPR Compliant" /></a>
                <a href="https://elmah.io/security/"><img src="../assets/img/shieldssl.png" width="102" height="40" draggable="false" alt="Alpha SSL" /></a>
              </div>
            </div>
          </div>
    		</div>
    	</div>
    </footer>

    <div class="bugster-banner-floating">
      <a role="button" data-bs-toggle="modal" data-bs-target="#bugsterModal">
        <div class="content">
          <p class="mb-1 lead">Have a question ?</p>
          <p class="mb-0">Ask anything and Bugster will be ready to answer and help you.</p>
        </div>
        <div class="bugster-logo">
          <img class="img-fluid" src="../assets/img/bugster.png" width="383" height="374" alt="Bugster">
        </div>
      </a>
    </div>

    <!-- Modal -->
    <div class="modal fade" id="bugsterModal" data-backdrop="static" data-keyboard="false" tabindex="-1" aria-labelledby="bugsterModalLabel" aria-hidden="true">
      <div class="modal-dialog modal-lg modal-dialog-centered modal-dialog-scrollable">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <div class="bugster-hero">
              <div class="bugster-logo text-center">
                <img class="img-fluid" src="../assets/img/bugster.png" width="383" height="374" alt="Bugster">
              </div>
              <div class="content text-center">
                <p class="lead mb-2">Introducing Bugster <span class="badge text-bg-danger ms-1">BETA</span></p>
                <p>Your AI assistant for quick navigation through documentation, providing valuable answers and insights in no time!</p>
                <div class="row">
                  <div class="col-md-6">
                    <a role="button" class="list-group-item-action mb-2" data-question="Why is my ASP.NET Core application not logging errors to elmah.io?">
                      <span>Exceptions are not logged from ASP.NET Core</span>
                    </a>
                  </div>
                  <div class="col-md-6">
                    <a role="button" class="list-group-item-action mb-2" data-question="How do I log errors to elmah.io from Serilog?">
                      <span>How to log from Serilog?</span>
                    </a>
                  </div>
                  <div class="col-md-6">
                    <a role="button" class="list-group-item-action mb-2" data-question="How do I include source code in log messages?">
                      <span>How do I include source code?</span>
                    </a>
                  </div>
                  <div class="col-md-6">
                    <a role="button" class="list-group-item-action mb-2" data-question="What is the difference between ELMAH and elmah.io?">
                      <span>How are ELMAH and elmah.io different?</span>
                    </a>
                  </div>
                </div>
                <div class="row">
                  <div class="col">
                    <div class="alert alert-warning mt-2" role="alert">
                      Bugster is experimental and still learning why answers may be wrong.
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="bugster-chat d-none"></div>
          </div>
          <div class="modal-footer collapse show">
            <form id="bugster-form" class="form w-100">
              <div class="input-group">
                <input type="text" id="question" class="form-control" placeholder="Ask Bugster" aria-label="Recipient's username" aria-describedby="send-message" required autocomplete="off">
                <button class="btn btn-primary" type="submit" id="send-message"><i class="fas fa-paper-plane px-3"></i></button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>

    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="../vendor/elmahio/elmahio.min.js"></script>
    <script src="../assets/js/initElmahio.js"></script>
    
    <script src="../assets/js/main.min.js?version=603"></script>
    
  </body>
</html>