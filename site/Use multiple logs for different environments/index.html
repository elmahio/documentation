<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
		<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Roboto:400,100,700" media="all">
        
        
        
        <link rel="shortcut icon" href="../favicon.ico">
        

	<title>Use multiple logs for different environments - elmah.io Documentation</title>

        <link href="../css/bootstrap-3.0.3.min.css" rel="stylesheet">
        <link href="../css/font-awesome-4.0.3.css" rel="stylesheet">
        <link rel="stylesheet" href="../css/highlight.css">
        <link href="../css/base.css" rel="stylesheet">
        <link href="../style.css" rel="stylesheet">

        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

        
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>

            <!-- Main title -->
            <a class="navbar-brand" href="https://elmah.io/">elmah.io</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            <!-- Main navigation -->
            <ul class="nav navbar-nav">
                <li><a href="https://elmah.io/features/" id="NavFeatures">Features</a></li>
                <li><a href="https://elmah.io/about/" id="NavAbout">About</a></li>
                <li><a href="https://elmah.io/pricing/" id="NavPricing">Pricing</a></li>
                <li><a href="http://docs.elmah.io/" id="NavDocs">Docs</a></li>
                <li><a href="http://blog.elmah.io/" id="NavBlog">Blog</a></li>
            </ul>

        </div>
    </div>
</div>

        <div class="container">
            <div class="col-md-3"><div class="bs-sidebar hidden-print affix" role="complementary">
	
		<h4 href="#" >Start</h4>
		<ul class="nav bs-sidenav">
		
			<li >
				<a href="..">Welcome</a>
			</li>
		
		</ul>
	
		<h4 href="#" >Installation</h4>
		<ul class="nav bs-sidenav">
		
			<li >
				<a href="../Logging%20to%20elmah.io%20from%20ELMAH/">Logging from ELMAH</a>
			</li>
		
			<li >
				<a href="../Logging%20to%20elmah.io%20from%20Web%20API/">Logging from Web API</a>
			</li>
		
			<li >
				<a href="../Logging%20to%20elmah.io%20from%20Serilog/">Logging from Serilog</a>
			</li>
		
			<li >
				<a href="../Logging%20to%20elmah.io%20from%20log4net/">Logging from log4net</a>
			</li>
		
			<li >
				<a href="../Logging%20to%20elmah.io%20from%20NLog/">Logging from NLog</a>
			</li>
		
			<li >
				<a href="../Logging%20to%20elmah.io%20from%20Nancy/">Logging from Nancy</a>
			</li>
		
			<li >
				<a href="../Logging%20to%20elmah.io%20from%20ServiceStack/">Logging from ServiceStack</a>
			</li>
		
			<li >
				<a href="../Logging%20to%20elmah.io%20from%20BlogEngine.NET/">Logging from BlogEngine.NET</a>
			</li>
		
			<li >
				<a href="../Configure%20elmah.io%20from%20code/">Configure elmah.io from code</a>
			</li>
		
		</ul>
	
		<h4 href="#" >Integrations</h4>
		<ul class="nav bs-sidenav">
		
			<li >
				<a href="../Integrate%20with%20Slack/">Slack</a>
			</li>
		
			<li >
				<a href="../Integrate%20with%20HipChat/">HipChat</a>
			</li>
		
			<li >
				<a href="../Integrate%20with%20Zapier/">Zapier</a>
			</li>
		
		</ul>
	
		<h4 href="#" >Help</h4>
		<ul class="nav bs-sidenav">
		
			<li >
				<a href="../Logging%20custom%20data/">Logging custom data</a>
			</li>
		
			<li >
				<a href="../Logging%20errors%20programmatically/">Logging errors programmatically</a>
			</li>
		
			<li >
				<a href="../Logging%20through%20a%20HTTP%20proxy/">Logging through a HTTP proxy</a>
			</li>
		
			<li >
				<a href="../Logging%20to%20multiple%20ELMAH%20logs/">Logging to multiple logs</a>
			</li>
		
			<li >
				<a href="../Remove%20sensitive%20form%20data/">Remove sensitive form data</a>
			</li>
		
			<li >
				<a href="../Use%20Extended%20User%20Details%20without%20Email%20as%20Id/">Use Extended User Details without Email as Id</a>
			</li>
		
			<li class="active">
				<a href="./">Use multiple logs for different environments</a>
			</li>
		
		</ul>
	
</div></div>
            <div class="col-md-9" role="main">

<h1 id="use-multiple-logs-for-different-environments">Use multiple logs for different environments</h1>
<p>We bet that you use at least two environments for hosting you website: localhost and a production environment. You probably need to log website errors all your environments, but you don’t want to mix errors from different environments in the same error log. Lucky for you, Microsoft provides a great way of differentiating configuration for different environments called Web Config transformation.</p>
<p>Start by creating two new logs at the elmah.io website called something like “My website” and “My website development”. The naming isn’t really important, so pick something saying.</p>
<p>In your project install the elmah.io NuGet package:</p>
<pre><code class="powershell">Install-Package elmah.io
</code></pre>

<p>During the installation, NuGet will ask you for your elmah.io log id. In this dialog input the log id from the log named “My website development”. The default configuration is used when running your website locally. When installed open the <code>web.release.config</code> file and add the following code:</p>
<pre><code class="xml">&lt;elmah xdt:Transform=&quot;Replace&quot;&gt;
  &lt;errorLog type=&quot;Elmah.Io.ErrorLog, Elmah.Io&quot; LogId=&quot;INSERT_HERE&quot; /&gt;
  &lt;security allowRemoteAccess=&quot;false&quot; /&gt;
&lt;/elmah&gt;
</code></pre>

<p>Replace the <code>INSERT_HERE</code> value with the log id named “My website”. That’s it! You can now build and deploy your website using different configurations. When nothing is changed, Visual Studio will build your website using the Debug configuration. This configuration looks for the ELMAH code in the <code>web.debug.config</code> file. We didn’t add any ELMAH configuration to this file, why the default values from <code>web.config</code> are used. When selecting the Release configuration, Web. Config transformations will replace the default values in <code>web.config</code> with the new ELMAH configuration from <code>web.release.config</code>.</p>
<p>To avoid spending numerous hours of debugging, remember that Web Config transformations are only run on deploy and not on build. In other words deploy your website using Visual Studio, MSBuild or third for the transformations to replace the right ELMAH config.</p></div>
        </div>

    <footer class="col-md-12">
        
    </footer>


        <script src="../js/jquery-1.10.2.min.js"></script>
        <script src="../js/bootstrap-3.0.3.min.js"></script>
        <script src="../js/highlight.pack.js"></script>
        <script src="../js/base.js"></script>
    </body>
</html>